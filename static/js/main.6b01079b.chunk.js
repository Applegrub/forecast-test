(this["webpackJsonpweather-test"]=this["webpackJsonpweather-test"]||[]).push([[0],{124:function(n,e,t){n.exports=t(164)},164:function(n,e,t){"use strict";t.r(e);var a=t(1),r=t.n(a),o=t(16),i=t.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=t(72),l=t(119),u=t(75),d=t(113),s=t(8),p=function(){function n(){Object(u.a)(this,n),this.open=!1}return Object(d.a)(n,[{key:"addInfo",value:function(n){this.info=n}},{key:"closeDialog",value:function(){this.open=!1}},{key:"openDialog",value:function(){this.open=!0}},{key:"isOpen",get:function(){return this.open}}]),n}();Object(s.j)(p,{open:s.o,isOpen:s.g,closeDialog:s.f,openDialog:s.f});new p;var m=new function n(e){Object(u.a)(this,n),this.serialize=function(){return{dialogStore:{}}},this.dialogStore=new p(this,e&&e.dialogStore?e.dialogStore:null)}(null),f=r.a.createContext(Object(l.a)({},m)),g=t(27),h=t(30),v=t(188),w=t(9),x=t(40),y=t.n(x),b=t(115),E=t.n(b),O=t(187),j=t(189),D=t(19),k=function(){return r.a.useContext(f)},S=t(186),z=t(185);function C(){var n=Object(g.a)([""]);return C=function(){return n},n}function F(){var n=Object(g.a)(["\ndisplay: flex;\nalign-items: center;\n"]);return F=function(){return n},n}function I(){var n=Object(g.a)(["\nfont-size: 20px;\n@media screen and (max-width: 600px){\nfont-size: 15px;\n}\nmargin: 5px 0;\npadding: -5px;\n&>*{\npadding: 5px;\n}\n"]);return I=function(){return n},n}var L=h.a.div(I()),M=h.a.div(F()),T=h.a.img(C()),q=function(n){var e,t=n.day;return r.a.createElement(L,null,r.a.createElement("div",null,"Date: ",(e=t.dt,new Date(1e3*e).toLocaleDateString())),r.a.createElement("div",null,"Temperature: ",R(t.temp.day)," \xb0C"),r.a.createElement(M,null,r.a.createElement(T,{src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:t.weather[0].main}),r.a.createElement("div",null," ",t.weather[0].description)))};function A(){var n=Object(g.a)(["\n"]);return A=function(){return n},n}function B(){var n=Object(g.a)(["\npadding: 16px 24px;\ntext-align: center;\nfont-size: 30px;\n@media screen and (max-width: 600px){\nfont-size: 20px;\n}\n"]);return B=function(){return n},n}var J=h.a.div(B()),V=h.a.div(A()),W=function(n){var e=n.infoForDialog,t=k().dialogStore,a=function(){t.closeDialog()},o=e.threeDays;return Object(D.d)((function(){return r.a.createElement(S.a,{onClose:a,open:t.isOpen},r.a.createElement(J,null,"More about weather"),r.a.createElement(z.a,null,r.a.createElement(V,null,r.a.createElement(q,{day:o.daily[1]}),r.a.createElement(q,{day:o.daily[2]}),r.a.createElement(q,{day:o.daily[3]}))))}))},N=E()((function(n){return{root:{width:"100%"}}})),R=function(n){return(n-273).toFixed(0)},$=function(n){var e,t=n.cityInfo,a=N(),o=k().dialogStore;function i(){o.openDialog()}var c=null===(e=t.oneDay)||void 0===e?void 0:e.main.temp;return Object(D.d)((function(){var n;return r.a.createElement("div",{className:a.root},r.a.createElement(O.a,{button:!0,variant:"outlined",onClick:i},r.a.createElement(j.a,{primary:null===(n=t.response)||void 0===n?void 0:n.name,secondary:"Temperature today: ".concat(R(c)," \xb0C")})),r.a.createElement(W,{infoForDialog:t}))}))},G=t(116),H=t(42),K=t(118);function P(){var n=Object(g.a)(['\n    query {\n        oneDay @rest(type: String, path: "", endpoint: "v1"){\n            name\n            coord\n            weather\n            main\n            dt\n        }\n        threeDays @rest(type: String, path: "", endpoint: "v2"){\n            daily\n        }\n    }\n']);return P=function(){return n},n}function Q(){var n=Object(g.a)(["\npadding: 5px;\ncolor: black;\nfont-size: 3vh;\n"]);return Q=function(){return n},n}var U=h.a.div(Q()),X=y()(P()),Y=function(n){var e=n.loading,t=n.error,a=n.data;return e?r.a.createElement(U,null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):t?r.a.createElement(U,null,t.message):r.a.createElement($,{cityInfo:a})},Z=new Map([["London",[-.13,51.51]],["Moscow",[37.618423,55.751244]],["Vienna",[16.37,48.21]]]),_=function(n){var e=n.city,t=Z.get(e),a=new G.RestLink({endpoints:{v1:"https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=12048a468d7808777fe096886d9beb48"),v2:"https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t[1],"&lon=").concat(t[0],"&exclude=hourly&appid=3238ccb17a8a11abd9f0a08c8f575a8f")}}),o=new H.a({link:a,cache:new K.a}),i=Object(v.a)(X,{props:function(n){var e=n.data;return e.loading?{loading:e.loading}:e.error?{error:e.error}:(console.log(e),{data:e,loading:!1})}})(Y);return r.a.createElement(w.b,{client:o},r.a.createElement(i,null))};function nn(){var n=Object(g.a)(["\nheight: 100vh;\nwidth: 100vw;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nbackground: linear-gradient(149.94deg, #CDF0FF 9.2%, \nrgba(186, 223, 244, 0.98991) 21.69%, \nrgba(56, 102, 169, 0.92) 63.84%, #2E5DA4 83.89%, #2E5DA4 91.59%);\n\n&>*{\nmargin: 5px;\nmax-width: 400px;\n@media screen and (max-width: 600px){\nmax-width: 300px;\n}\nborder-radius: 10px;\nbackground: white;\n}\n\n.MuiListItemText-primary{\ncolor: black;\nfont-size: 25px;\n}\n.MuiListItemText-secondary{\ncolor: black;\nfont-size: 20px;\n}\n"]);return nn=function(){return n},n}var en=["London","Vienna","Moscow"],tn=function(){return r.a.createElement(an,null,en.map((function(n){return r.a.createElement(_,{key:n,city:n})})))},an=h.a.div(nn());i.a.render(r.a.createElement(c.a,m,r.a.createElement(tn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[124,1,2]]]);
//# sourceMappingURL=main.6b01079b.chunk.js.map