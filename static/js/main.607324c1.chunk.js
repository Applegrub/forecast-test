(this["webpackJsonpweather-test"]=this["webpackJsonpweather-test"]||[]).push([[0],{135:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(7),i=t.n(o),c=t(14),u=t(15),l=t(61),d=t.n(l),s=t(81),p=t(55),f=t(83),m=t.n(f),h=t(157),g=t(158),v=t(10),w=t(84),x=t(46),b=t(82),y=t(3),E=function(){function e(){Object(x.a)(this,e),this.open=!1,this.info={daily:[{},{dt:"",temp:0,weather:[{main:"",description:"",icon:""}]},{dt:"",temp:0,weather:[{main:"",description:"",icon:""}]},{dt:"",temp:0,weather:[{main:"",description:"",icon:""}]}]}}return Object(b.a)(e,[{key:"addInfo",value:function(e){this.info=e}},{key:"closeDialog",value:function(){this.open=!1}},{key:"openDialog",value:function(){this.open=!0}},{key:"isOpen",get:function(){return this.open}},{key:"getinfo",get:function(){return this.info}}]),e}();Object(y.j)(E,{open:y.o,isOpen:y.g,closeDialog:y.f,openDialog:y.f});new E;var O=new function e(n){Object(x.a)(this,e),this.serialize=function(){return{dialogStore:{}}},this.dialogStore=new E(this,n&&n.dialogStore?n.dialogStore:null)}(null),j=r.a.createContext(Object(w.a)({},O)),k=function(){return r.a.useContext(j)},D=t(156),S=t(155);function z(){var e=Object(c.a)([""]);return z=function(){return e},e}function C(){var e=Object(c.a)(["\ndisplay: flex;\nalign-items: center;\n"]);return C=function(){return e},e}function I(){var e=Object(c.a)(["\nfont-size: 20px;\n@media screen and (max-width: 600px){\nfont-size: 15px;\n}\nmargin: 5px 0;\npadding: -5px;\n&>*{\npadding: 5px;\n}\n"]);return I=function(){return e},e}var M=u.a.div(I()),T=u.a.div(C()),L=u.a.img(z()),F=function(e){var n,t=e.day;return r.a.createElement(M,null,r.a.createElement("div",null,"Date: ",(n=t.dt,new Date(1e3*n).toLocaleDateString())),r.a.createElement("div",null,"Temperature: ",$(t.temp.day)," \xb0C"),r.a.createElement(T,null,r.a.createElement(L,{src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:t.weather[0].main}),r.a.createElement("div",null," ",t.weather[0].description)))};function W(){var e=Object(c.a)(["\n"]);return W=function(){return e},e}function A(){var e=Object(c.a)(["\npadding: 16px 24px;\ntext-align: center;\nfont-size: 30px;\n@media screen and (max-width: 600px){\nfont-size: 20px;\n}\n"]);return A=function(){return e},e}var B=u.a.div(A()),J=u.a.div(W()),q=function(){var e=k().dialogStore,n=function(){e.closeDialog()},t=e.getinfo;return Object(v.d)((function(){return r.a.createElement(D.a,{onClose:n,open:e.isOpen},r.a.createElement(B,null,"More about weather"),r.a.createElement(S.a,null,r.a.createElement(J,null,r.a.createElement(F,{day:t.daily[1]}),r.a.createElement(F,{day:t.daily[2]}),r.a.createElement(F,{day:t.daily[3]}))))}))},N=m()((function(e){return{root:{width:"100%"}}})),$=function(e){return(e-273).toFixed(0)},G=function(e){var n=e.cityInfo,t=e.dataThreeDays,a=N(),o=k().dialogStore;function i(){o.openDialog(),o.addInfo(t)}var c=n.main.temp;return Object(v.d)((function(){return r.a.createElement("div",{className:a.root},r.a.createElement(h.a,{button:!0,variant:"outlined",onClick:i},r.a.createElement(g.a,{primary:n.name,secondary:"Temperature today: ".concat($(c)," \xb0C")})),r.a.createElement(q,null))}))},H=t(62),K=t.n(H);function P(){var e=Object(c.a)(["\npadding: 5px;\ncolor: black;\nfont-size: 3vh;\n"]);return P=function(){return e},e}var Q=u.a.div(P()),R=new Map([["London",[-.13,51.51]],["Moscow",[37.62,55.75]],["Wien",[16.37,48.21]]]);var U=function(e){var n=e.city,t=Object(a.useState)(!1),o=Object(p.a)(t,2),i=o[0],c=o[1],u=Object(a.useState)({}),l=Object(p.a)(u,2),f=l[0],m=l[1],h=Object(a.useState)({}),g=Object(p.a)(h,2),v=g[0],w=g[1],x=R.get(n),b="https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&appid=12048a468d7808777fe096886d9beb48"),y="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(x[0],"&lon=").concat(x[1],"&exclude=hourly&appid=3238ccb17a8a11abd9f0a08c8f575a8f");return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get(b).then((function(e){var n=e.data;m(n),c(!0)})).catch((function(e){return console.error(e)}));case 2:return e.next=4,K.a.get(y).then((function(e){var n=e.data;w(n),c(!0)})).catch((function(e){return console.error(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i?r.a.createElement(G,{cityInfo:f,dataThreeDays:v}):r.a.createElement(Q,null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")};function V(){var e=Object(c.a)(["\nheight: 100vh;\nwidth: 100vw;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nbackground: linear-gradient(149.94deg, #CDF0FF 9.2%, \nrgba(186, 223, 244, 0.98991) 21.69%, \nrgba(56, 102, 169, 0.92) 63.84%, #2E5DA4 83.89%, #2E5DA4 91.59%);\n\n&>*{\nmargin: 5px;\nmax-width: 400px;\n@media screen and (max-width: 600px){\nmax-width: 300px;\n}\nborder-radius: 10px;\nbackground: white;\n}\n\n.MuiListItemText-primary{\ncolor: black;\nfont-size: 25px;\n}\n.MuiListItemText-secondary{\ncolor: black;\nfont-size: 20px;\n}\n"]);return V=function(){return e},e}var X=u.a.div(V()),Y=["London","Moscow","Wien"];var Z=function(){return r.a.createElement(X,null,Y.map((function(e){return r.a.createElement(U,{key:e,city:e})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=t(45);i.a.render(r.a.createElement(_.a,O,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,n,t){e.exports=t(135)}},[[89,1,2]]]);
//# sourceMappingURL=main.607324c1.chunk.js.map